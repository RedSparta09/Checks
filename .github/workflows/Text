# Sample data (replace with actual data)
data = [
    {"primaryProduct": "European Governments", "buySell": "Sell", "tenure": "20+", "shown": "400,000", "EMA Category": "Asset Manager", "period": "Today"},
    {"primaryProduct": "European Governments", "buySell": "Sell", "tenure": "10-20", "shown": "400,000", "EMA Category": "Hedge Fund", "period": "Previous Week"},
    {"primaryProduct": "European Governments", "buySell": "Buy", "tenure": "2-10", "shown": "450,000", "EMA Category": "Hedge Fund", "period": "Today"}
    # Add more data entries as needed
]

# Extract relevant information
today_volume = next(entry["shown"] for entry in data if entry["period"] == "Today")
yesterday_volume = next(entry["shown"] for entry in data if entry["period"] == "Yesterday")
previous_week_volume = next(entry["shown"] for entry in data if entry["period"] == "Previous Week")

# Calculate percentage change
volume_change_yesterday = (float(today_volume) - float(yesterday_volume)) / float(yesterday_volume) * 100
volume_change_previous_week = (float(today_volume) - float(previous_week_volume)) / float(previous_week_volume) * 100

# Generate commentary
commentary = f"European government bonds showed interesting trends today:\n"
commentary += f"- The volume shown today was at the **20+y** area of the curve.\n"
commentary += f"- Asset managers were the clients who showed the best volume today.\n"
commentary += f"- Volume seen from hedge funds reduced today.\n"
commentary += f"- Compared to yesterday, the volume remained the same, but it was **25% less** than the previous week.\n"

print(commentary)
